var r={NUM_1:1,NUM_2:2,NUM_3:3,NUM_4:4,NUM_5:5,NUM_6:6,NUM_7:7,NUM_8:8,NUM_9:9,NUM_0:0,ADD:"+",SUBTRACT:"-",MULTIPLY:"×",DIVIDE:"÷",EQUALS:"=",DOT:".",SQRT:"√",CHS:"±"};export default function(){var e=[0],n=[],t=0,i=0,o=0,u=!1;function s(){if(n[0]){var o=n[0],s=e[0],U=e[1],M=void 0!==s&&void 0!==U?function(e,n,t){switch(t){case r.ADD:return e+n;case r.SUBTRACT:return e-n;case r.MULTIPLY:return e*n;case r.DIVIDE:if(0===n)throw new Error("division by zero");return e/n;default:throw new Error("operation is not valid")}}(s,U,o):s;e[0]=M}i=0,u=!0,t=0}return{display:function(){return e[i]},pressKey:function(U){if(!Object.keys(r).some((function(e){return r[e]===U})))throw new Error("Pressed key is invalid");if(function(e){return[r.NUM_0,r.NUM_1,r.NUM_2,r.NUM_3,r.NUM_4,r.NUM_5,r.NUM_6,r.NUM_7,r.NUM_8,r.NUM_9].includes(e)}(U)){o!==i&&(e[o]=0,t=0,i=o);var M=u?0:e[i],a=0===t?10*M+U:M+U*Math.pow(10,t);e[i]=a,u=!1,t<0&&t--}else if(function(e){return[r.ADD,r.SUBTRACT,r.DIVIDE,r.MULTIPLY].includes(e)}(U))1===i&&s(),n[0]=U,o=1;else if(function(e){return[r.SQRT,r.CHS].includes(e)}(U)){var c=e[i];e[i]=function(e,n){switch(n){case r.SQRT:return Math.sqrt(e);case r.CHS:return-e;default:throw new Error("operation is not valid")}}(c,U)}else U===r.EQUALS?(s(),o=0):U===r.DOT&&0===t&&(t=-1);return this},keys:r}}
