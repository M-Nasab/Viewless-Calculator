var r={NUM_1:1,NUM_2:2,NUM_3:3,NUM_4:4,NUM_5:5,NUM_6:6,NUM_7:7,NUM_8:8,NUM_9:9,NUM_0:0,ADD:"+",SUBTRACT:"-",MULTIPLY:"ร",DIVIDE:"รท",EQUALS:"=",DOT:"."};export default function(){var n=[0],e=[],t=0,i=0,U=0,o=!1;function M(){if(e[0]){var U=e[0],M=n[0],u=n[1],N=void 0!==M&&void 0!==u?function(n,e,t){switch(t){case r.ADD:return n+e;case r.SUBTRACT:return n-e;case r.MULTIPLY:return n*e;case r.DIVIDE:if(0===e)throw new Error("division by zero");return n/e;default:throw new Error("opration is not valid")}}(M,u,U):M;n[0]=N}i=0,o=!0,t=0}return{display:function(){return n[i]},pressKey:function(u){if(!Object.keys(r).some((function(n){return r[n]===u})))throw new Error("Pressed key is invalid");if(function(n){return[r.NUM_0,r.NUM_1,r.NUM_2,r.NUM_3,r.NUM_4,r.NUM_5,r.NUM_6,r.NUM_7,r.NUM_8,r.NUM_9].includes(n)}(u)){U!==i&&(n[U]=0,t=0,i=U);var N=o?0:n[i],_=0===t?10*N+u:N+u*Math.pow(10,t);n[i]=_,o=!1,t<0&&t--}return function(n){return[r.ADD,r.SUBTRACT,r.DIVIDE,r.MULTIPLY].includes(n)}(u)&&(1===i&&M(),e[0]=u,U=1),u===r.EQUALS&&(M(),U=0),u===r.DOT&&0===t&&(t=-1),this},keys:r}}
