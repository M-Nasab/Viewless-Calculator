!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e=e||self).Calculator=r()}(this,(function(){"use strict";var e={NUM_1:1,NUM_2:2,NUM_3:3,NUM_4:4,NUM_5:5,NUM_6:6,NUM_7:7,NUM_8:8,NUM_9:9,NUM_0:0,ADD:"+",SUBTRACT:"-",MULTIPLY:"×",DIVIDE:"÷",EQUALS:"=",DOT:".",SQRT:"√",CHS:"±"};return function(){var r=[0],n=[],t=0,i=0,o=0,u=!1;function s(){if(n[0]){var o=n[0],s=r[0],f=r[1],c=void 0!==s&&void 0!==f?function(r,n,t){switch(t){case e.ADD:return r+n;case e.SUBTRACT:return r-n;case e.MULTIPLY:return r*n;case e.DIVIDE:if(0===n)throw new Error("division by zero");return r/n;default:throw new Error("operation is not valid")}}(s,f,o):s;r[0]=c}i=0,u=!0,t=0}return{display:function(){return r[i]},pressKey:function(f){if(!Object.keys(e).some((function(r){return e[r]===f})))throw new Error("Pressed key is invalid");if(function(r){return[e.NUM_0,e.NUM_1,e.NUM_2,e.NUM_3,e.NUM_4,e.NUM_5,e.NUM_6,e.NUM_7,e.NUM_8,e.NUM_9].includes(r)}(f)){o!==i&&(r[o]=0,t=0,i=o);var c=u?0:r[i],U=0===t?10*c+f:c+f*Math.pow(10,t);r[i]=U,u=!1,t<0&&t--}else if(function(r){return[e.ADD,e.SUBTRACT,e.DIVIDE,e.MULTIPLY].includes(r)}(f))1===i&&s(),n[0]=f,o=1;else if(function(r){return[e.SQRT,e.CHS].includes(r)}(f)){var M=r[i];r[i]=function(r,n){switch(n){case e.SQRT:return Math.sqrt(r);case e.CHS:return-r;default:throw new Error("operation is not valid")}}(M,f)}else f===e.EQUALS?(s(),o=0):f===e.DOT&&0===t&&(t=-1);return this},keys:e}}}));
