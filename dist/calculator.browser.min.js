var Calculator=function(){"use strict";var r={NUM_1:1,NUM_2:2,NUM_3:3,NUM_4:4,NUM_5:5,NUM_6:6,NUM_7:7,NUM_8:8,NUM_9:9,NUM_0:0,ADD:"+",SUBTRACT:"-",MULTIPLY:"×",DIVIDE:"÷",EQUALS:"=",DOT:".",SQRT:"√",CHS:"±"};return function(){var n=[0],e=[],t=0,i=0,o=0,u=!1;function s(){if(e[0]){var o=e[0],s=n[0],U=n[1],c=void 0!==s&&void 0!==U?function(n,e,t){switch(t){case r.ADD:return n+e;case r.SUBTRACT:return n-e;case r.MULTIPLY:return n*e;case r.DIVIDE:if(0===e)throw new Error("division by zero");return n/e;default:throw new Error("operation is not valid")}}(s,U,o):s;n[0]=c}i=0,u=!0,t=0}return{display:function(){return n[i]},pressKey:function(U){if(!Object.keys(r).some((function(n){return r[n]===U})))throw new Error("Pressed key is invalid");if(function(n){return[r.NUM_0,r.NUM_1,r.NUM_2,r.NUM_3,r.NUM_4,r.NUM_5,r.NUM_6,r.NUM_7,r.NUM_8,r.NUM_9].includes(n)}(U)){o!==i&&(n[o]=0,t=0,i=o);var c=u?0:n[i],M=0===t?10*c+U:c+U*Math.pow(10,t);n[i]=M,u=!1,t<0&&t--}else if(function(n){return[r.ADD,r.SUBTRACT,r.DIVIDE,r.MULTIPLY].includes(n)}(U))1===i&&s(),e[0]=U,o=1;else if(function(n){return[r.SQRT,r.CHS].includes(n)}(U)){var a=n[i];n[i]=function(n,e){switch(e){case r.SQRT:return Math.sqrt(n);case r.CHS:return-n;default:throw new Error("operation is not valid")}}(a,U)}else U===r.EQUALS?(s(),o=0):U===r.DOT&&0===t&&(t=-1);return this},keys:r}}}();
